## Lab 6: Instruction Selection, Liveness Analysis, Register Allocation, and Put it all together!
* 逃逸分析、指令选择、数据流分析、活跃分析、寄存器分配
* 需要在 IR 结合 X64 栈帧布局

### Description
In this lab, your goal is to make your compiler generate working code that runs on x86-64 platform.

The file runtime.c is a C-language file containing several external functions useful to your Tiger program. These are generally reached by externalCall from code generated by your compiler. You may modify this as necessary.

Write a module main.c that calls on all the other modules to produce an assembly language file prog.s for each input program prog.tig. This assembly language program should be assembled (producing prog.o) and linked with runtime.o to produce an executable file.

In your generated code, you should do what you can to **avoid unnecessary stack accesses** (push and pop), which means placing as many variables as possible in registers by **escape analysis** in register allocation phase. Otherwise, you will NOT get the full scores!

**Update**: To avoid the size inconsistency between pointers and array elements, please modify array element size from sizeof(int) to sizeof(long) in file **runtime.c** at line 9. That is:
```
- int *a = (int *)malloc(size*sizeof(int));

+ int *a = (int *)malloc(size*sizeof(long));
```

编译器后端好复杂啊，我好菜啊
[写lab的一些记录](https://github.com/FJJLeon/Compiler-Lab-2018/tree/master/lab6/Note.md)